<svg width="1200" height="500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="pipeGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#818cf8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6366f1;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="pipeGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#a78bfa;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="pipeGrad3" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#c084fc;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#a855f7;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="pipeGrad4" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e879f9;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d946ef;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="pipeGrad5" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f472b6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ec4899;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="pipeGrad6" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fb7185;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f43f5e;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="pipeGrad7" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#22c55e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#16a34a;stop-opacity:1" />
    </linearGradient>

    <marker id="pipeArrow" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto">
      <polygon points="0 0, 12 4, 0 8" fill="#94a3b8"/>
    </marker>

    <filter id="pipeShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="5" flood-opacity="0.4"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1200" height="500" fill="#0f172a"/>

  <!-- Title -->
  <text x="600" y="45" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-size="28" font-weight="700" fill="#f8fafc">
    Nova Compiler Pipeline
  </text>
  <text x="600" y="75" text-anchor="middle" font-family="Inter, sans-serif" font-size="16" fill="#94a3b8">
    From source code to executable
  </text>

  <!-- Stage boxes -->
  <!-- Source -->
  <g transform="translate(30, 150)" filter="url(#pipeShadow)">
    <rect width="130" height="100" rx="12" fill="url(#pipeGrad1)"/>
    <text x="65" y="40" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="14" font-weight="700" fill="white">SOURCE</text>
    <text x="65" y="65" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" fill="rgba(255,255,255,0.8)">.nova files</text>
    <text x="65" y="85" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.6)">UTF-8 text</text>
  </g>

  <!-- Lexer -->
  <g transform="translate(200, 150)" filter="url(#pipeShadow)">
    <rect width="130" height="100" rx="12" fill="url(#pipeGrad2)"/>
    <text x="65" y="40" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="14" font-weight="700" fill="white">LEXER</text>
    <text x="65" y="65" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" fill="rgba(255,255,255,0.8)">Tokenize</text>
    <text x="65" y="85" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.6)">~500 lines</text>
  </g>

  <!-- Parser -->
  <g transform="translate(370, 150)" filter="url(#pipeShadow)">
    <rect width="130" height="100" rx="12" fill="url(#pipeGrad3)"/>
    <text x="65" y="40" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="14" font-weight="700" fill="white">PARSER</text>
    <text x="65" y="65" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" fill="rgba(255,255,255,0.8)">Build AST</text>
    <text x="65" y="85" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.6)">Pratt + RD</text>
  </g>

  <!-- Type Checker -->
  <g transform="translate(540, 150)" filter="url(#pipeShadow)">
    <rect width="130" height="100" rx="12" fill="url(#pipeGrad4)"/>
    <text x="65" y="40" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="14" font-weight="700" fill="white">TYPES</text>
    <text x="65" y="65" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" fill="rgba(255,255,255,0.8)">Check types</text>
    <text x="65" y="85" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.6)">HM + traits</text>
  </g>

  <!-- IR -->
  <g transform="translate(710, 150)" filter="url(#pipeShadow)">
    <rect width="130" height="100" rx="12" fill="url(#pipeGrad5)"/>
    <text x="65" y="40" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="14" font-weight="700" fill="white">IR</text>
    <text x="65" y="65" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" fill="rgba(255,255,255,0.8)">Lower to IR</text>
    <text x="65" y="85" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.6)">SSA form</text>
  </g>

  <!-- Codegen -->
  <g transform="translate(880, 150)" filter="url(#pipeShadow)">
    <rect width="130" height="100" rx="12" fill="url(#pipeGrad6)"/>
    <text x="65" y="40" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="14" font-weight="700" fill="white">CODEGEN</text>
    <text x="65" y="65" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" fill="rgba(255,255,255,0.8)">Emit code</text>
    <text x="65" y="85" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.6)">WASM/LLVM</text>
  </g>

  <!-- Output -->
  <g transform="translate(1040, 150)" filter="url(#pipeShadow)">
    <rect width="130" height="100" rx="12" fill="url(#pipeGrad7)"/>
    <text x="65" y="40" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="14" font-weight="700" fill="white">OUTPUT</text>
    <text x="65" y="65" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" fill="rgba(255,255,255,0.8)">.wasm file</text>
    <text x="65" y="85" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="rgba(255,255,255,0.6)">executable</text>
  </g>

  <!-- Arrows -->
  <line x1="160" y1="200" x2="200" y2="200" stroke="#94a3b8" stroke-width="3" marker-end="url(#pipeArrow)"/>
  <line x1="330" y1="200" x2="370" y2="200" stroke="#94a3b8" stroke-width="3" marker-end="url(#pipeArrow)"/>
  <line x1="500" y1="200" x2="540" y2="200" stroke="#94a3b8" stroke-width="3" marker-end="url(#pipeArrow)"/>
  <line x1="670" y1="200" x2="710" y2="200" stroke="#94a3b8" stroke-width="3" marker-end="url(#pipeArrow)"/>
  <line x1="840" y1="200" x2="880" y2="200" stroke="#94a3b8" stroke-width="3" marker-end="url(#pipeArrow)"/>
  <line x1="1010" y1="200" x2="1040" y2="200" stroke="#94a3b8" stroke-width="3" marker-end="url(#pipeArrow)"/>

  <!-- Data flow labels -->
  <text x="180" y="185" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="#64748b">text</text>
  <text x="350" y="185" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="#64748b">tokens</text>
  <text x="520" y="185" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="#64748b">AST</text>
  <text x="690" y="185" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="#64748b">typed</text>
  <text x="860" y="185" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="#64748b">IR</text>
  <text x="1025" y="185" text-anchor="middle" font-family="JetBrains Mono, monospace" font-size="10" fill="#64748b">bytes</text>

  <!-- Foundation highlight -->
  <rect x="190" y="280" width="320" height="60" rx="8" fill="none" stroke="#10b981" stroke-width="2" stroke-dasharray="8,4"/>
  <text x="350" y="318" text-anchor="middle" font-family="Inter, sans-serif" font-size="14" font-weight="600" fill="#10b981">
    FOUNDATION (The Irreducible 5)
  </text>

  <!-- Code example -->
  <g transform="translate(50, 370)">
    <rect width="350" height="100" rx="8" fill="#1e293b"/>
    <text x="15" y="25" font-family="JetBrains Mono, monospace" font-size="12" fill="#94a3b8">// Input</text>
    <text x="15" y="50" font-family="JetBrains Mono, monospace" font-size="14" fill="#a78bfa">fn</text>
    <text x="35" y="50" font-family="JetBrains Mono, monospace" font-size="14" fill="#f8fafc"> main() { </text>
    <text x="15" y="75" font-family="JetBrains Mono, monospace" font-size="14" fill="#f8fafc">    </text>
    <text x="35" y="75" font-family="JetBrains Mono, monospace" font-size="14" fill="#a78bfa">let</text>
    <text x="60" y="75" font-family="JetBrains Mono, monospace" font-size="14" fill="#f8fafc"> x = </text>
    <text x="100" y="75" font-family="JetBrains Mono, monospace" font-size="14" fill="#fbbf24">42</text>
    <text x="120" y="75" font-family="JetBrains Mono, monospace" font-size="14" fill="#f8fafc">; }</text>
  </g>

  <g transform="translate(450, 370)">
    <rect width="250" height="100" rx="8" fill="#1e293b"/>
    <text x="15" y="25" font-family="JetBrains Mono, monospace" font-size="12" fill="#94a3b8">// Tokens</text>
    <text x="15" y="50" font-family="JetBrains Mono, monospace" font-size="11" fill="#22c55e">[Fn, Ident, LParen,</text>
    <text x="15" y="70" font-family="JetBrains Mono, monospace" font-size="11" fill="#22c55e"> RParen, LBrace, Let,</text>
    <text x="15" y="90" font-family="JetBrains Mono, monospace" font-size="11" fill="#22c55e"> Ident, Eq, IntLit...]</text>
  </g>

  <g transform="translate(750, 370)">
    <rect width="400" height="100" rx="8" fill="#1e293b"/>
    <text x="15" y="25" font-family="JetBrains Mono, monospace" font-size="12" fill="#94a3b8">// Output (WASM)</text>
    <text x="15" y="50" font-family="JetBrains Mono, monospace" font-size="11" fill="#60a5fa">00 61 73 6d 01 00 00 00</text>
    <text x="15" y="70" font-family="JetBrains Mono, monospace" font-size="11" fill="#60a5fa">01 07 01 60 00 01 7f 03</text>
    <text x="15" y="90" font-family="JetBrains Mono, monospace" font-size="11" fill="#60a5fa">02 01 00 07 08 01 04 6d...</text>
  </g>
</svg>
